<?xml version="1.0" encoding="UTF-8" ?>

<!DOCTYPE struts-config PUBLIC "-//Apache Software Foundation//DTD Struts Configuration 1.2//EN" "http://jakarta.apache.org/struts/dtds/struts-config_1_2.dtd">

<struts-config>

  <!-- ========== Data Sources Definitions =================================== -->
  <!--
    Define your Struts data sources in a file called struts-data-sources.xml and place
    it in your merge directory.
  -->

  <!-- ========== Form Bean Definitions =================================== -->
  <form-beans>

    <form-bean
      name="supplierForm"
      type="ca.po.web.form.SupplierForm"
    />
    <form-bean
      name="itemForm"
      type="ca.po.web.form.ItemForm"
    />
    <form-bean
      name="nameDescForm"
      type="ca.po.web.form.NameDescForm"
    />
    <form-bean
      name="poForValidationFollowUpForm"
      type="ca.po.web.form.PoForValidationFollowUpForm"
    />
    <form-bean
      name="poForUserForm"
      type="ca.po.web.form.PoForUserForm"
    />
    <form-bean
      name="searchPoForm"
      type="ca.po.web.form.SearchPoForm"
    />
    <form-bean
      name="userForm"
      type="ca.po.web.form.UserForm"
    />

    <!--
         If you have non XDoclet forms, define them in a file called struts-forms.xml and
         place it in your merge directory.
    -->
  </form-beans>

  <!-- ========== Global Exceptions Definitions =================================== -->
  <!-- This has the effect that all Exceptions thrown by action (not caught) are handled 
    -  declaratively by the struts exception handler.  To be able to handle 
	-  specific exception, declare more specialized exception within action def -->
<global-exceptions>
        <exception type="java.lang.Exception"
           key="errors.general"
		   path="/public/error.jsp" />
</global-exceptions>

  <!-- ========== Global Forward Definitions =================================== -->
	<global-forwards>
        <forward name="home" path="/home.html" />
        <forward name="blank" path="/WEB-INF/jsp/blank.jsp" />            
        <!-- Forwards actions pointing to other actions -->        
        <forward name="addUser" 
            path="/editUser.html?username=-1" />
        <forward name="addItem" 
            path="/editItem.html?itemId=-1" />

		<!-- used to conveniently reforward user to different action -->
        <forward name="editItemAction" 
            path="/editItem.html" />
        <forward name="listItemAction" 
            path="/listItem.html" />

        <forward name="goToListProposedPOsAction" 
            path="/admin/listPoForValidation.html" />

    </global-forwards>

  <!-- ========== Action Mapping Definitions =================================== -->
   <action-mappings>
    <action
      path="/editUserPo"
      type="ca.po.web.action.PoForUserAction"
      name="poForUserForm"
      scope="session"
      parameter="edit"
      unknown="false"
      validate="false"
    >
      <forward
        name="list"
        path="/WEB-INF/jsp/listPoByUser.jsp"
        redirect="false"
      />
      <forward
        name="listAction"
        path="/listUserPo.html"
        redirect="false"
      />
      <forward
        name="editUserPo"
        path="/WEB-INF/jsp/editPoByUser.jsp"
        redirect="false"
      />
      <forward
        name="viewUserPoAction"
        path="/editUserPo.html"
        redirect="false"
      />
    </action>
    <action
      path="/addItemToUserPo"
      type="ca.po.web.action.PoForUserAction"
      parameter="addItem"
      unknown="false"
      validate="true"
    >
      <forward
        name="list"
        path="/WEB-INF/jsp/listPoByUser.jsp"
        redirect="false"
      />
      <forward
        name="listAction"
        path="/listUserPo.html"
        redirect="false"
      />
      <forward
        name="editUserPo"
        path="/WEB-INF/jsp/editPoByUser.jsp"
        redirect="false"
      />
      <forward
        name="viewUserPoAction"
        path="/editUserPo.html"
        redirect="false"
      />
    </action>
    <action
      path="/removeItemToUserPo"
      type="ca.po.web.action.PoForUserAction"
      parameter="removeItem"
      unknown="false"
      validate="true"
    >
      <forward
        name="list"
        path="/WEB-INF/jsp/listPoByUser.jsp"
        redirect="false"
      />
      <forward
        name="listAction"
        path="/listUserPo.html"
        redirect="false"
      />
      <forward
        name="editUserPo"
        path="/WEB-INF/jsp/editPoByUser.jsp"
        redirect="false"
      />
      <forward
        name="viewUserPoAction"
        path="/editUserPo.html"
        redirect="false"
      />
    </action>
    <action
      path="/saveUserPo"
      type="ca.po.web.action.PoForUserAction"
      name="poForUserForm"
      scope="session"
      input="/WEB-INF/jsp/editPoByUser.jsp"
      parameter="save"
      unknown="false"
      validate="true"
    >
      <forward
        name="list"
        path="/WEB-INF/jsp/listPoByUser.jsp"
        redirect="false"
      />
      <forward
        name="listAction"
        path="/listUserPo.html"
        redirect="false"
      />
      <forward
        name="editUserPo"
        path="/WEB-INF/jsp/editPoByUser.jsp"
        redirect="false"
      />
      <forward
        name="viewUserPoAction"
        path="/editUserPo.html"
        redirect="false"
      />
    </action>
    <action
      path="/listUserPo"
      type="ca.po.web.action.PoForUserAction"
      parameter="list"
      unknown="false"
      validate="true"
    >
      <forward
        name="list"
        path="/WEB-INF/jsp/listPoByUser.jsp"
        redirect="false"
      />
      <forward
        name="listAction"
        path="/listUserPo.html"
        redirect="false"
      />
      <forward
        name="editUserPo"
        path="/WEB-INF/jsp/editPoByUser.jsp"
        redirect="false"
      />
      <forward
        name="viewUserPoAction"
        path="/editUserPo.html"
        redirect="false"
      />
    </action>
    <action
      path="/goToListItem"
      type="ca.po.web.action.PoForUserAction"
      name="poForUserForm"
      scope="session"
      parameter="goToListItem"
      unknown="false"
      validate="false"
    >
      <forward
        name="list"
        path="/WEB-INF/jsp/listPoByUser.jsp"
        redirect="false"
      />
      <forward
        name="listAction"
        path="/listUserPo.html"
        redirect="false"
      />
      <forward
        name="editUserPo"
        path="/WEB-INF/jsp/editPoByUser.jsp"
        redirect="false"
      />
      <forward
        name="viewUserPoAction"
        path="/editUserPo.html"
        redirect="false"
      />
    </action>
    <action
      path="/listItem"
      type="ca.po.web.action.ItemAction"
      parameter="list"
      unknown="false"
      validate="true"
    >
      <forward
        name="list"
        path="/WEB-INF/jsp/listItem.jsp"
        redirect="false"
      />
      <forward
        name="edit"
        path="/WEB-INF/jsp/editItem.jsp"
        redirect="false"
      />
      <forward
        name="listAction"
        path="/listItem.html"
        redirect="false"
      />
      <forward
        name="listSupplierAction"
        path="/listSupplier.html"
        redirect="false"
      />
    </action>
    <action
      path="/editItem"
      type="ca.po.web.action.ItemAction"
      name="itemForm"
      scope="request"
      parameter="edit"
      unknown="false"
      validate="false"
    >
      <forward
        name="list"
        path="/WEB-INF/jsp/listItem.jsp"
        redirect="false"
      />
      <forward
        name="edit"
        path="/WEB-INF/jsp/editItem.jsp"
        redirect="false"
      />
      <forward
        name="listAction"
        path="/listItem.html"
        redirect="false"
      />
      <forward
        name="listSupplierAction"
        path="/listSupplier.html"
        redirect="false"
      />
    </action>
    <action
      path="/saveItem"
      type="ca.po.web.action.ItemAction"
      name="itemForm"
      scope="request"
      input="/WEB-INF/jsp/editItem.jsp"
      parameter="save"
      unknown="false"
      validate="true"
    >
      <forward
        name="list"
        path="/WEB-INF/jsp/listItem.jsp"
        redirect="false"
      />
      <forward
        name="edit"
        path="/WEB-INF/jsp/editItem.jsp"
        redirect="false"
      />
      <forward
        name="listAction"
        path="/listItem.html"
        redirect="false"
      />
      <forward
        name="listSupplierAction"
        path="/listSupplier.html"
        redirect="false"
      />
    </action>
    <action
      path="/deleteItem"
      type="ca.po.web.action.ItemAction"
      parameter="delete"
      unknown="false"
      validate="true"
    >
      <forward
        name="list"
        path="/WEB-INF/jsp/listItem.jsp"
        redirect="false"
      />
      <forward
        name="edit"
        path="/WEB-INF/jsp/editItem.jsp"
        redirect="false"
      />
      <forward
        name="listAction"
        path="/listItem.html"
        redirect="false"
      />
      <forward
        name="listSupplierAction"
        path="/listSupplier.html"
        redirect="false"
      />
    </action>
    <action
      path="/newCat"
      type="ca.po.web.action.ItemAction"
      name="nameDescForm"
      scope="request"
      input="/listItem.html"
      parameter="newCat"
      unknown="false"
      validate="true"
    >
      <forward
        name="list"
        path="/WEB-INF/jsp/listItem.jsp"
        redirect="false"
      />
      <forward
        name="edit"
        path="/WEB-INF/jsp/editItem.jsp"
        redirect="false"
      />
      <forward
        name="listAction"
        path="/listItem.html"
        redirect="false"
      />
      <forward
        name="listSupplierAction"
        path="/listSupplier.html"
        redirect="false"
      />
    </action>
    <action
      path="/newProd"
      type="ca.po.web.action.ItemAction"
      name="nameDescForm"
      scope="request"
      input="/listItem.html"
      parameter="newProd"
      unknown="false"
      validate="true"
    >
      <forward
        name="list"
        path="/WEB-INF/jsp/listItem.jsp"
        redirect="false"
      />
      <forward
        name="edit"
        path="/WEB-INF/jsp/editItem.jsp"
        redirect="false"
      />
      <forward
        name="listAction"
        path="/listItem.html"
        redirect="false"
      />
      <forward
        name="listSupplierAction"
        path="/listSupplier.html"
        redirect="false"
      />
    </action>
    <action
      path="/deleteCat"
      type="ca.po.web.action.ItemAction"
      parameter="deleteCat"
      unknown="false"
      validate="true"
    >
      <forward
        name="list"
        path="/WEB-INF/jsp/listItem.jsp"
        redirect="false"
      />
      <forward
        name="edit"
        path="/WEB-INF/jsp/editItem.jsp"
        redirect="false"
      />
      <forward
        name="listAction"
        path="/listItem.html"
        redirect="false"
      />
      <forward
        name="listSupplierAction"
        path="/listSupplier.html"
        redirect="false"
      />
    </action>
    <action
      path="/deleteProd"
      type="ca.po.web.action.ItemAction"
      parameter="deleteProd"
      unknown="false"
      validate="true"
    >
      <forward
        name="list"
        path="/WEB-INF/jsp/listItem.jsp"
        redirect="false"
      />
      <forward
        name="edit"
        path="/WEB-INF/jsp/editItem.jsp"
        redirect="false"
      />
      <forward
        name="listAction"
        path="/listItem.html"
        redirect="false"
      />
      <forward
        name="listSupplierAction"
        path="/listSupplier.html"
        redirect="false"
      />
    </action>
    <action
      path="/admin/listPoForValidation"
      type="ca.po.web.action.PoForValidationAction"
      name="poForValidationFollowUpForm"
      scope="request"
      parameter="list"
      unknown="false"
      validate="false"
    >
      <forward
        name="list"
        path="/WEB-INF/jsp/listPoForValidation.jsp"
        redirect="false"
      />
      <forward
        name="listAction"
        path="/admin/listPoForValidation.html"
        redirect="false"
      />
      <forward
        name="editUserPoAction"
        path="/editUserPo.html"
        redirect="false"
      />
    </action>
    <action
      path="/admin/validatePo"
      type="ca.po.web.action.PoForValidationAction"
      name="poForValidationFollowUpForm"
      scope="request"
      parameter="validate"
      unknown="false"
      validate="false"
    >
      <forward
        name="list"
        path="/WEB-INF/jsp/listPoForValidation.jsp"
        redirect="false"
      />
      <forward
        name="listAction"
        path="/admin/listPoForValidation.html"
        redirect="false"
      />
      <forward
        name="editUserPoAction"
        path="/editUserPo.html"
        redirect="false"
      />
    </action>
    <action
      path="/admin/goToEditProposedPO"
      type="ca.po.web.action.PoForValidationAction"
      parameter="goToEditProposedPo"
      unknown="false"
      validate="true"
    >
      <forward
        name="list"
        path="/WEB-INF/jsp/listPoForValidation.jsp"
        redirect="false"
      />
      <forward
        name="listAction"
        path="/admin/listPoForValidation.html"
        redirect="false"
      />
      <forward
        name="editUserPoAction"
        path="/editUserPo.html"
        redirect="false"
      />
    </action>
    <action
      path="/login"
      type="ca.po.web.action.LogAction"
      parameter="login"
      unknown="false"
      validate="true"
    >
      <forward
        name="login"
        path="/public/login.jsp"
        redirect="false"
      />
    </action>
    <action
      path="/logout"
      type="ca.po.web.action.LogAction"
      parameter="logout"
      unknown="false"
      validate="true"
    >
      <forward
        name="login"
        path="/public/login.jsp"
        redirect="false"
      />
    </action>
    <action
      path="/listSupplier"
      type="ca.po.web.action.SupplierAction"
      parameter="list"
      unknown="false"
      validate="true"
    >
      <forward
        name="list"
        path="/WEB-INF/jsp/listAddSupplier.jsp"
        redirect="false"
      />
      <forward
        name="listAction"
        path="/listSupplier.html"
        redirect="false"
      />
    </action>
    <action
      path="/addSupplier"
      type="ca.po.web.action.SupplierAction"
      name="supplierForm"
      scope="request"
      input="/listSupplier.html"
      parameter="add"
      unknown="false"
      validate="true"
    >
      <forward
        name="list"
        path="/WEB-INF/jsp/listAddSupplier.jsp"
        redirect="false"
      />
      <forward
        name="listAction"
        path="/listSupplier.html"
        redirect="false"
      />
    </action>
    <action
      path="/deleteSupplier"
      type="ca.po.web.action.SupplierAction"
      parameter="delete"
      unknown="false"
      validate="true"
    >
      <forward
        name="list"
        path="/WEB-INF/jsp/listAddSupplier.jsp"
        redirect="false"
      />
      <forward
        name="listAction"
        path="/listSupplier.html"
        redirect="false"
      />
    </action>
    <action
      path="/admin/listPoForFollowUp"
      type="ca.po.web.action.PoForFollowUpAction"
      name="poForValidationFollowUpForm"
      scope="request"
      parameter="list"
      unknown="false"
      validate="false"
    >
      <forward
        name="list"
        path="/WEB-INF/jsp/listPoForFollowUp.jsp"
        redirect="false"
      />
      <forward
        name="listAction"
        path="/admin/listPoForFollowUp.html"
        redirect="false"
      />
    </action>
    <action
      path="/admin/saveFollowUpPo"
      type="ca.po.web.action.PoForFollowUpAction"
      name="poForValidationFollowUpForm"
      scope="request"
      input="/WEB-INF/jsp/listPoForFollowUp.jsp"
      parameter="save"
      unknown="false"
      validate="true"
    >
      <forward
        name="list"
        path="/WEB-INF/jsp/listPoForFollowUp.jsp"
        redirect="false"
      />
      <forward
        name="listAction"
        path="/admin/listPoForFollowUp.html"
        redirect="false"
      />
    </action>
    <action
      path="/admin/inputSearch"
      type="ca.po.web.action.PoSearchAction"
      name="searchPoForm"
      scope="request"
      parameter="input"
      unknown="false"
      validate="false"
    >
      <forward
        name="list"
        path="/WEB-INF/jsp/listPoByCriteria.jsp"
        redirect="false"
      />
    </action>
    <action
      path="/admin/listSearch"
      type="ca.po.web.action.PoSearchAction"
      name="searchPoForm"
      scope="request"
      input="/admin/inputSearch.html"
      parameter="list"
      unknown="false"
      validate="true"
    >
      <forward
        name="list"
        path="/WEB-INF/jsp/listPoByCriteria.jsp"
        redirect="false"
      />
    </action>
    <action
      path="/admin/listUser"
      type="ca.po.web.action.UserAction"
      parameter="list"
      unknown="false"
      validate="true"
    >
      <forward
        name="list"
        path="/WEB-INF/jsp/listUser.jsp"
        redirect="false"
      />
      <forward
        name="edit"
        path="/WEB-INF/jsp/editUser.jsp"
        redirect="false"
      />
      <forward
        name="listAction"
        path="/admin/listUser.html"
        redirect="false"
      />
    </action>
    <action
      path="/editUser"
      type="ca.po.web.action.UserAction"
      name="userForm"
      scope="request"
      parameter="edit"
      unknown="false"
      validate="false"
    >
      <forward
        name="list"
        path="/WEB-INF/jsp/listUser.jsp"
        redirect="false"
      />
      <forward
        name="edit"
        path="/WEB-INF/jsp/editUser.jsp"
        redirect="false"
      />
      <forward
        name="listAction"
        path="/admin/listUser.html"
        redirect="false"
      />
    </action>
    <action
      path="/saveUser"
      type="ca.po.web.action.UserAction"
      name="userForm"
      scope="request"
      input="/editUser.html"
      parameter="save"
      unknown="false"
      validate="true"
    >
      <forward
        name="list"
        path="/WEB-INF/jsp/listUser.jsp"
        redirect="false"
      />
      <forward
        name="edit"
        path="/WEB-INF/jsp/editUser.jsp"
        redirect="false"
      />
      <forward
        name="listAction"
        path="/admin/listUser.html"
        redirect="false"
      />
    </action>
    <action
      path="/admin/deleteUser"
      type="ca.po.web.action.UserAction"
      parameter="delete"
      unknown="false"
      validate="true"
    >
      <forward
        name="list"
        path="/WEB-INF/jsp/listUser.jsp"
        redirect="false"
      />
      <forward
        name="edit"
        path="/WEB-INF/jsp/editUser.jsp"
        redirect="false"
      />
      <forward
        name="listAction"
        path="/admin/listUser.html"
        redirect="false"
      />
    </action>

       <!-- Forwards to various jsp page  -->
     <action path="/home" type="org.apache.struts.actions.ForwardAction"
        parameter="/WEB-INF/jsp/home.jsp" />

  </action-mappings>

   <!-- Define your Struts controller in a file called struts-controller.xml and place it in your merge directory. -->

      <!--Message resource bundle to be used by the Validator/ActionErrors/ActionMessages
       -null="false" indicates not to return empty message string when key is not found
       -->
    <message-resources null="false" parameter="messages">
    </message-resources>

    <!-- Use Declarative Validator instead of implementing Validate
       - method in ActionForm  -->

    <plug-in className="org.apache.struts.validator.ValidatorPlugIn">
      <set-property
        property="pathnames"
        value="/WEB-INF/validator-rules.xml,/WEB-INF/validation.xml"/>
    </plug-in>

</struts-config>
